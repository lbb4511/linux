# Red Hat 之 RPM

## 常用命令

`rpm -qa` 查看所有安装的软件包

在 Linux 操作系统中，有一个系统软件包，它的功能类似于 Windows 里面的“添加/删除程序”，但是功能又比“添加/删除程序”强很多，它就是 Red Hat Package Manager(简称 RPM)。此工具包最先是由 Red Hat 公司推出的，后来被其他 Linux 开发商所借用。由于它为 Linux 使用者省去了很多时间，所以被广泛应用于在 Linux 下安装、删除软件。下面就 给大家介绍一下它的具体使用方法。

- 我们得到一个新软件，在安装之前，一般都要先查看一下这个软件包里有什么内容，假设这个文件是：Linux-1.4-6.i368.rpm，我们可以用这条命令查看：

`rpm -qpi Linux-1.4-6.i368.rpm`

系统将会列出这个软件包的详细资料，包括含有多少个文件、各文件名称、文件大小、创建时间、编译日期等信息。

- 上面列出的所有文件在安装时不一定全部安装，就像 Windows 下程序的安装方式分为典型、完全、自定义一样，Linux 也会让你选择安装方式，此时我们可以用下面这条命令查看软件包将会在系统里安装哪些部分，以方便我们的选择：

`rpm -qpl Linux-1.4-6.i368.rpm`

- 选择安装方式后，开始安装。我们可以用 rpm-ivh Linux-1.4-6.i368.rpm 命令安装此软件。在安装过程中，若系统提示此软件已安装过或因其他原因无法继续安装，但若我们确实想执行安装命 令，可以在 -ivh 后加一参数“-replacepkgs”：

`rpm -ivh -replacepkgs Linux-1.4-6.i368.rpm`

- 有时我们卸载某个安装过的软件，只需执行 rpm-e <文件名>命令即可。

- 对低版本软件进行升级是提高其功能的好办法，这样可以省去我们卸载后再安装新软件的麻烦，要升级某个软件，只须执行如下命令：rpm -uvh <文件名>，注意：此时的文件名必须是要升级软件的升级补丁

- 另外一个安装软件的方法可谓是 Linux 的独到之处，同时也是 RMP 强大功能的一个表现：通过 FTP 站点直接在线安装软件。当找到含有你所需软件的站点并 与此网站连接后，执行下面的命令即可实现在线安装，譬如在线安装 Linux-1.4-6.i368.rpm，可以用命令：

`rpm -i ftp://ftp.pht.com/pub/linux/redhat/...-1.4-6.i368.rpm`

- 在我们使用电脑过程中，难免会有误操作，若我们误删了几个文件而影响了系统的性能时，怎样查找到底少了哪些文件呢?RPM 软件包提供了一个查找损坏文件的 功能，执行此命令：rpm -Va 即可，Linux 将为你列出所有损坏的文件。你可以通过 Linux 的安装光盘进行修复。

- Linux 系统中文件繁多，在使用过程中，难免会碰到我们不认识的文件，在 Windows 下我们可以用“开始/查找”菜单快速判断某个文件属于哪个文件夹，在 Linux 中，下面这条命令行可以帮助我们快速判定某个文件属于哪个软件包：

`rpm -qf <文件名>`

- 当每个软件包安装在 Linux 系统后，安装文件都会到 RPM 数据库中“报到”，所以，我们要查询某个已安装软件的属性时，只需到此数据库中查找即可。注意：此时的查询命令不同于 1 和 8 介绍的查询，这种方法只适用于已安装过的软件包！命令格式：

`rpm -参数 <文件名>`
