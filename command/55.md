# 55. traceroute

通过 traceroute 我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。linux 系统中，我们称之为 traceroute,在 MS Windows 中为 tracert。 traceroute 通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。一条路径上的每个设备 traceroute 要测 3 次。输出结果中包括每次测试的时间(ms)和设备的名称（如有的话）及其 IP 地址。

- 在大多数情况下，我们会在 linux 主机系统下，直接执行命令行：`traceroute hostname`
- 而在 Windows 系统下是执行 tracert 的命令：`tracert hostname`

## 命令格式：

traceroute[参数][主机]

## 命令功能：

traceroute 指令让你追踪网络数据包的路由途径，预设数据包大小是 40Bytes，用户可另行设置。

具体参数格式：traceroute [-dFlnrvx][-f<存活数值>][-g<网关>...][-i<网络界面>][-m<存活数值>][-p<通信端口>][-s<来源地址>][-t<服务类型>][-w<超时秒数>][主机名称或ip地址][数据包大小]

## 命令参数：

- -d 使用 Socket 层级的排错功能。
- -f 设置第一个检测数据包的存活数值 TTL 的大小。
- -F 设置勿离断位。
- -g 设置来源路由网关，最多可设置 8 个。
- -i 使用指定的网络界面送出数据包。
- -I 使用 ICMP 回应取代 UDP 资料信息。
- -m 设置检测数据包的最大存活数值 TTL 的大小。
- -n 直接使用 IP 地址而非主机名称。
- -p 设置 UDP 传输协议的通信端口。
- -r 忽略普通的 Routing Table，直接将数据包送到远端主机上。
- -s 设置本地主机送出数据包的 IP 地址。
- -t 设置检测数据包的 TOS 数值。
- -v 详细显示指令的执行过程。
- -w 设置等待远端主机回报的时间。
- -x 开启或关闭数据包的正确性检验。
